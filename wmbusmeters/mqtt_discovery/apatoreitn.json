{
  "current_hca": {
    "component": "sensor",
    "discovery_payload": {
      "device": {
        "identifiers": [
            "wmbusmeters_{id}"
        ],
        "manufacturer": "APATOR",
        "model": "Heat Cost Allocation E-ITN (driver: {driver})",
        "name": "{name}",
        "sw_version": "{id}"
      },
      "name": "{name} current HCA",
      "unique_id": "wmbusmeters_{id}_{attribute}",
      "state_topic": "wmbusmeters/{name}",
      "value_template": "{{ value_json.{attribute} }}",
      "json_attributes_topic": "wmbusmeters/{name}",
      "icon": "mdi:gauge",
      "unit_of_measurement": "unit",
      "state_class": "total",
      "enabled_by_default": true
    }
  },
  "previous_hca": {
    "component": "sensor",
    "discovery_payload": {
      "device": {
        "identifiers": [
            "wmbusmeters_{id}"
        ],
        "manufacturer": "APATOR",
        "model": "Heat Cost Allocation E-ITN (driver: {driver})",
        "name": "{name}",
        "sw_version": "{id}"
      },
      "entity_category": "diagnostic",
      "name": "{name} previous HCA",
      "unique_id": "wmbusmeters_{id}_{attribute}",
      "state_topic": "wmbusmeters/{name}",
      "value_template": "{{ value_json.{attribute} }}",
      "json_attributes_topic": "wmbusmeters/{name}",
      "icon": "mdi:gauge",
      "unit_of_measurement": "unit",
      "state_class": "total",
      "enabled_by_default": true
    }
  },
  "temp_room_avg_c": {
    "component": "sensor",
    "discovery_payload": {
      "device": {
        "identifiers": [
          "wmbusmeters_{id}"
        ],
        "manufacturer": "APATOR",
        "model": "Heat Cost Allocation E-ITN (driver: {driver})",
        "name": "{name}",
        "sw_version": "{id}"
      },
      "name": "{name} temperature",
      "unique_id": "wmbusmeters_{id}_{attribute}",
      "state_topic": "wmbusmeters/{name}",
      "value_template": "{{ value_json.{attribute} | round(2) }}",
      "icon": "mdi:home-thermometer",
      "unit_of_measurement": "°C",
      "state_class": "measurement",
      "device_class": "temperature",
      "enabled_by_default": true
    }
  },
  "temp_room_prev_avg_c": {
    "component": "sensor",
    "discovery_payload": {
      "device": {
        "identifiers": [
          "wmbusmeters_{id}"
        ],
        "manufacturer": "APATOR",
        "model": "Heat Cost Allocation E-ITN (driver: {driver})",
        "name": "{name}",
        "sw_version": "{id}"
      },
      "entity_category": "diagnostic",
      "name": "{name} prev. temperature",
      "unique_id": "wmbusmeters_{id}_{attribute}",
      "state_topic": "wmbusmeters/{name}",
      "value_template": "{{ value_json.{attribute} | round(2) }}",
      "icon": "mdi:home-thermometer",
      "unit_of_measurement": "°C",
      "state_class": "measurement",
      "device_class": "temperature",
      "enabled_by_default": true
    }
  },
  "timestamp": {
    "component": "sensor",
    "discovery_payload": {
      "device": {
        "identifiers": [
          "wmbusmeters_{id}"
        ],
        "manufacturer": "APATOR",
        "model": "Heat Cost Allocation E-ITN (driver: {driver})",
        "name": "{name}",
        "sw_version": "{id}"
      },
      "entity_category": "diagnostic",
      "name": "{name} timestamp",
      "unique_id": "wmbusmeters_{id}_{attribute}",
      "state_topic": "wmbusmeters/{name}",
      "value_template": "{{ value_json.{attribute} }}",
      "icon": "mdi:calendar-clock",
      "enabled_by_default": false
    }
  },
  "season_start_date": {
    "component": "sensor",
    "discovery_payload": {
      "device": {
        "identifiers": [
          "wmbusmeters_{id}"
        ],
        "manufacturer": "APATOR",
        "model": "Heat Cost Allocation E-ITN (driver: {driver})",
        "name": "{name}",
        "sw_version": "{id}"
      },
      "entity_category": "diagnostic",
      "name": "{name} season start date",
      "unique_id": "wmbusmeters_{id}_{attribute}",
      "state_topic": "wmbusmeters/{name}",
      "value_template": "{{ value_json.{attribute} }}",
      "icon": "mdi:calendar-start",
      "enabled_by_default": false
    }
  },
  "esb_date": {
    "component": "sensor",
    "discovery_payload": {
      "device": {
        "identifiers": [
          "wmbusmeters_{id}"
        ],
        "manufacturer": "APATOR",
        "model": "Heat Cost Allocation E-ITN (driver: {driver})",
        "name": "{name}",
        "sw_version": "{id}"
      },
      "entity_category": "diagnostic",
      "name": "{name} ESB date",
      "unique_id": "wmbusmeters_{id}_{attribute}",
      "state_topic": "wmbusmeters/{name}",
      "value_template": "{{ value_json.{attribute} }}",
      "icon": "mdi:calendar-lock-open",
      "enabled_by_default": true
    }
  },
  "rssi_dbm": {
    "component": "sensor",
    "discovery_payload": {
      "device": {
        "identifiers": [
          "wmbusmeters_{id}"
        ],
        "manufacturer": "APATOR",
        "model": "Heat Cost Allocation E-ITN (driver: {driver})",
        "name": "{name}",
        "sw_version": "{id}"
      },
      "entity_category": "diagnostic",
      "name": "{name} rssi",
      "unique_id": "wmbusmeters_{id}_{attribute}",
      "state_topic": "wmbusmeters/{name}",
      "value_template": "{{ value_json.{attribute} }}",
      "icon": "mdi:signal",
      "unit_of_measurement": "dbm",
      "device_class": "signal_strength",
      "state_class": "measurement",
      "enabled_by_default": true
    }
  }
}
